{"mappings":"AAAA,MAAM;IACa,GAAmB;IAEnB,MAA6C;IAE7C,KAA4C;IAE5C,OAA8C;IAEvD,KAAqB;IAE7B,YAAY,SACV,KAAK,SACL,QAAQ,YACR,OAAO,cACP,SAAS,MAMV,CAAE;QACD,IAAI,CAAC,OAAO,UAAU,EACpB;QAGF,IAAI,CAAC,EAAE,GAAG,OAAO,UAAU,CAAC;QAC5B,IAAI,CAAC,KAAK,GAAG;QACb,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,IAAI,GAAG;IACd;IAEQ,UAAU,CAAC,WAAE,OAAO,EAAwC;QAClE,IAAI,YAAY,IAAI,CAAC,IAAI,EACvB;QAGF,IAAI,WAAW,IAAI,CAAC,KAAK,EACvB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;aACb,IAAI,CAAC,WAAW,IAAI,CAAC,IAAI,EAC9B,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;QAGnB,IAAI,IAAI,CAAC,MAAM,EACb,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE;QAGrB,IAAI,CAAC,IAAI,GAAG;IACd,EAAE;IAEM,eAAe,CAAC;QACtB,IAAI,CAAC,OAAO,CAAC;IACf,EAAE;IAEK,OAAO;QACZ,IAAI,CAAC,EAAE,CAAC,gBAAgB,CAAC,UAAU,IAAI,CAAC,YAAY;QACpD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;IACtB;AACF;IAEA,2CAAe","sources":["src/index.ts"],"sourcesContent":["class MediaTrigger {\n  private readonly MQ: MediaQueryList;\n\n  private readonly entry: ((mq: MediaQueryList) => void) | null;\n\n  private readonly exit: ((mq: MediaQueryList) => void) | null;\n\n  private readonly change: ((mq: MediaQueryList) => void) | null;\n\n  private prev: boolean | null;\n\n  constructor({\n    media,\n    entry = null,\n    exit = null,\n    change = null,\n  }: {\n    media: string;\n    entry?: ((mq: MediaQueryList) => void) | null;\n    exit?: ((mq: MediaQueryList) => void) | null;\n    change?: ((mq: MediaQueryList) => void) | null;\n  }) {\n    if (!window.matchMedia) {\n      return;\n    }\n\n    this.MQ = window.matchMedia(media);\n    this.entry = entry;\n    this.exit = exit;\n    this.change = change;\n    this.prev = null;\n  }\n\n  private trigger = ({ matches }: MediaQueryListEvent | MediaQueryList) => {\n    if (matches === this.prev) {\n      return;\n    }\n\n    if (matches && this.entry) {\n      this.entry(this.MQ);\n    } else if (!matches && this.exit) {\n      this.exit(this.MQ);\n    }\n\n    if (this.change) {\n      this.change(this.MQ);\n    }\n\n    this.prev = matches;\n  };\n\n  private handleChange = (event: MediaQueryListEvent) => {\n    this.trigger(event);\n  };\n\n  public init() {\n    this.MQ.addEventListener('change', this.handleChange);\n    this.trigger(this.MQ);\n  }\n}\n\nexport default MediaTrigger;\n"],"names":[],"version":3,"file":"index.module.js.map"}