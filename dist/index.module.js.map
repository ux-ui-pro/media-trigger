{"mappings":"AAAA,MAAM;IAOJ,YAAY,SACV,KAAK,SACL,QAAQ,YACR,OAAO,cACP,SAAS,MAMV,CAAE;aAgBK,UAAU,CAAC,WAAE,OAAO,EAAwC;YAClE,IAAI,YAAY,IAAI,CAAC,IAAI,EACvB;YAGF,IAAI,WAAW,IAAI,CAAC,KAAK,EACvB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;iBACb,IAAI,CAAC,WAAW,IAAI,CAAC,IAAI,EAC9B,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;YAGnB,IAAI,IAAI,CAAC,MAAM,EACb,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE;YAGrB,IAAI,CAAC,IAAI,GAAG;QACd;aAEQ,eAAe,CAAC;YACtB,IAAI,CAAC,OAAO,CAAC;QACf;QAnCE,IAAI,CAAC,OAAO,UAAU,EACpB;QAGF,IAAI,CAAC,EAAE,GAAG,OAAO,UAAU,CAAC;QAC5B,IAAI,CAAC,KAAK,GAAG;QACb,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,IAAI,GAAG;QAEZ,IAAI,CAAC,EAAE,CAAC,gBAAgB,CAAC,UAAU,IAAI,CAAC,YAAY;QAEpD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;IACtB;AAuBF;IAEA,2CAAe","sources":["src/index.ts"],"sourcesContent":["class MediaTrigger {\r\n  private readonly MQ: MediaQueryList;\r\n  private readonly entry: ((mq: MediaQueryList) => void) | null;\r\n  private readonly exit: ((mq: MediaQueryList) => void) | null;\r\n  private readonly change: ((mq: MediaQueryList) => void) | null;\r\n  private prev: boolean | null;\r\n\r\n  constructor({\r\n    media,\r\n    entry = null,\r\n    exit = null,\r\n    change = null\r\n  }: {\r\n    media: string;\r\n    entry?: ((mq: MediaQueryList) => void) | null;\r\n    exit?: ((mq: MediaQueryList) => void) | null;\r\n    change?: ((mq: MediaQueryList) => void) | null;\r\n  }) {\r\n    if (!window.matchMedia) {\r\n      return;\r\n    }\r\n\r\n    this.MQ = window.matchMedia(media);\r\n    this.entry = entry;\r\n    this.exit = exit;\r\n    this.change = change;\r\n    this.prev = null;\r\n\r\n    this.MQ.addEventListener('change', this.handleChange);\r\n\r\n    this.trigger(this.MQ);\r\n  }\r\n\r\n  private trigger = ({ matches }: MediaQueryListEvent | MediaQueryList) => {\r\n    if (matches === this.prev) {\r\n      return;\r\n    }\r\n\r\n    if (matches && this.entry) {\r\n      this.entry(this.MQ);\r\n    } else if (!matches && this.exit) {\r\n      this.exit(this.MQ);\r\n    }\r\n\r\n    if (this.change) {\r\n      this.change(this.MQ);\r\n    }\r\n\r\n    this.prev = matches;\r\n  }\r\n\r\n  private handleChange = (event: MediaQueryListEvent) => {\r\n    this.trigger(event);\r\n  }\r\n}\r\n\r\nexport default MediaTrigger;\r\n"],"names":[],"version":3,"file":"index.module.js.map"}